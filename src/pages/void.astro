---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout title="void" description="Nothing here. Nothing anywhere.">
  <div class="void-container">
    <div class="void-center">
      <div class="void-circle"></div>
      <div class="void-text">
        <span class="char" style="--i: 0">.</span>
        <span class="char" style="--i: 1">.</span>
        <span class="char" style="--i: 2">.</span>
      </div>
    </div>
    
    <div class="whispers">
      <p class="whisper" id="whisper"></p>
    </div>
    
    <div class="void-stats">
      <span class="stat">entropy: <span id="entropy">∞</span></span>
      <span class="stat">meaning: <span id="meaning">null</span></span>
      <span class="stat">time: <span id="time">—</span></span>
    </div>
  </div>
  
  <a href="/" class="back-link">← return to something</a>
</BaseLayout>

<style>
  .void-container {
    position: fixed;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: #000;
    overflow: hidden;
  }
  
  .void-center {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2rem;
  }
  
  .void-circle {
    width: 200px;
    height: 200px;
    border-radius: 50%;
    background: radial-gradient(circle at center, #000 0%, #000 40%, #0a0a0a 60%, #111 80%, #000 100%);
    box-shadow: 
      0 0 60px rgba(0, 0, 0, 0.8),
      inset 0 0 60px rgba(0, 0, 0, 1),
      0 0 120px rgba(20, 20, 30, 0.3);
    animation: pulse-void 8s ease-in-out infinite;
  }
  
  @keyframes pulse-void {
    0%, 100% { 
      transform: scale(1);
      box-shadow: 
        0 0 60px rgba(0, 0, 0, 0.8),
        inset 0 0 60px rgba(0, 0, 0, 1),
        0 0 120px rgba(20, 20, 30, 0.3);
    }
    50% { 
      transform: scale(1.05);
      box-shadow: 
        0 0 80px rgba(0, 0, 0, 0.9),
        inset 0 0 80px rgba(0, 0, 0, 1),
        0 0 160px rgba(30, 30, 50, 0.4);
    }
  }
  
  .void-text {
    font-family: 'JetBrains Mono', monospace;
    font-size: 2rem;
    color: #222;
    letter-spacing: 1rem;
  }
  
  .char {
    display: inline-block;
    animation: fade-char 3s ease-in-out infinite;
    animation-delay: calc(var(--i) * 0.5s);
  }
  
  @keyframes fade-char {
    0%, 100% { opacity: 0.1; }
    50% { opacity: 0.4; }
  }
  
  .whispers {
    position: absolute;
    width: 100%;
    height: 100%;
    pointer-events: none;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .whisper {
    position: absolute;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.8rem;
    color: #1a1a1a;
    opacity: 0;
    animation: whisper 12s ease-in-out infinite;
    text-transform: lowercase;
    letter-spacing: 0.5em;
  }
  
  @keyframes whisper {
    0%, 100% { opacity: 0; transform: translateY(20px); }
    10%, 30% { opacity: 0.3; transform: translateY(0); }
    40% { opacity: 0; transform: translateY(-20px); }
  }
  
  .void-stats {
    position: fixed;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 3rem;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.7rem;
    color: #1a1a1a;
    text-transform: uppercase;
    letter-spacing: 0.2em;
  }
  
  .stat {
    transition: color 0.5s ease;
  }
  
  .back-link {
    position: fixed;
    top: 2rem;
    left: 2rem;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.8rem;
    color: #222;
    text-decoration: none;
    transition: color 0.3s ease;
    z-index: 10;
  }
  
  .back-link:hover {
    color: #444;
  }
  
  /* Subtle scan line effect */
  .void-container::after {
    content: '';
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.1) 2px,
      rgba(0, 0, 0, 0.1) 4px
    );
    pointer-events: none;
    opacity: 0.3;
  }
</style>

<script>
  const whispers = [
    "nothing persists",
    "the absence speaks",
    "null is a value too",
    "between the bits",
    "undefined",
    "where data goes to rest",
    "the space between thoughts",
    "zero is not empty",
    "silence has weight",
    "the void gazes back",
    "/dev/null",
    "entropy wins",
    "all returns here",
    "the quiet hum",
    "before the first bit"
  ];
  
  const whisperEl = document.getElementById('whisper') as HTMLElement | null;
  const entropyEl = document.getElementById('entropy');
  const meaningEl = document.getElementById('meaning');
  const timeEl = document.getElementById('time');
  
  let whisperIndex = 0;
  
  function showWhisper() {
    if (whisperEl) {
      whisperEl.textContent = whispers[whisperIndex];
      whisperEl.style.animation = 'none';
      whisperEl.offsetHeight; // trigger reflow
      whisperEl.style.animation = 'whisper 12s ease-in-out';
      whisperIndex = (whisperIndex + 1) % whispers.length;
    }
  }
  
  function updateStats() {
    if (entropyEl) {
      const entropy = Math.random() > 0.95 ? '∞' : (Math.random() * 100).toFixed(6);
      entropyEl.textContent = entropy;
    }
    if (meaningEl) {
      const meanings = ['null', 'undefined', 'NaN', '∅', '—', 'void', '0x00'];
      meaningEl.textContent = meanings[Math.floor(Math.random() * meanings.length)];
    }
    if (timeEl) {
      const times = ['—', '∞', 'now', 'never', '...', '0', 'always'];
      timeEl.textContent = times[Math.floor(Math.random() * times.length)];
    }
  }
  
  // Initial
  showWhisper();
  
  // Intervals
  setInterval(showWhisper, 12000);
  setInterval(updateStats, 3000);
  
  // Easter egg: clicking the void
  const voidCircle = document.querySelector('.void-circle') as HTMLElement | null;
  if (voidCircle) {
    voidCircle.addEventListener('click', () => {
      document.body.style.transition = 'opacity 2s ease';
      document.body.style.opacity = '0';
      setTimeout(() => {
        document.body.style.opacity = '1';
      }, 2000);
    });
    voidCircle.style.cursor = 'pointer';
  }
</script>
